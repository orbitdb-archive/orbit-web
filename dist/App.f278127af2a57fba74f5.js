(this.webpackJsonp=this.webpackJsonp||[]).push([[2],{1166:function(e,t,r){"use strict";(function(e){var o;function a(e,t,r,o,a,n,i){try{var s=e[n](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,a)}function n(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){a(i,o,n,s,c,"next",e)}function c(e){a(i,o,n,s,c,"throw",e)}s(void 0)}))}}r.d(t,"a",(function(){return c})),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var i,s;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=new Promise((function(e){return e()})),a=function(){var r=n(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("function"!=typeof(o=e.shift())){r.next=7;break}return r.next=4,o();case 4:return r.abrupt("return",a());case 7:t();case 8:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return o.then(a).catch(r),o}(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(c,"promiseQueue","/Users/skysbird/workspace/orbit-web/src/utils/promise-queue.js"),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)}).call(this,r(52)(e))},1168:function(e,t,r){"use strict";(function(e){var r;(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var o,a,n={default:{WebkitFilter:"hue-rotate(45deg)"},purple1:{WebkitFilter:"hue-rotate(340deg)"},purple2:{WebkitFilter:"hue-rotate(0deg)"},magenta:{WebkitFilter:"hue-rotate(30deg)"},red:{WebkitFilter:"hue-rotate(45deg)"},orange:{WebkitFilter:"hue-rotate(100deg)"},brown:{WebkitFilter:"hue-rotate(130deg)"},lime:{WebkitFilter:"hue-rotate(160deg)"},green:{WebkitFilter:"hue-rotate(180deg)"},cyan:{WebkitFilter:"hue-rotate(250deg)"},blue1:{WebkitFilter:"hue-rotate(290deg)"},blue2:{WebkitFilter:"hue-rotate(310deg)"},grey:{WebkitFilter:"hue-rotate(0deg) grayscale(100%)"}},i=n;t.a=i,(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(o.register(n,"Themes","/Users/skysbird/workspace/orbit-web/src/themes/index.js"),o.register(i,"default","/Users/skysbird/workspace/orbit-web/src/themes/index.js")),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)}).call(this,r(52)(e))},1194:function(e,t,r){"use strict";(function(e){var o,a=r(2955),n=r(397),i=r(630);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;a.a.use(n.a).init({resources:i.a,lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});var s,c,l=a.a;t.a=l,(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(l,"default","/Users/skysbird/workspace/orbit-web/src/config/i18n.config.js"),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)}).call(this,r(52)(e))},1210:function(e,t,r){"use strict";(function(e){var o,a=r(1211),n=r(1192);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i,s,c={translation:a,dateLocale:n.a};t.a=c,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(c,"default","/Users/skysbird/workspace/orbit-web/src/locales/en/index.js"),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)}).call(this,r(52)(e))},1211:function(e){e.exports=JSON.parse('{"channel":{"beginningOf":"Beginning of #{{channel}}","showingLast":"Showing only one message of #{{channel}}","showingLast_plural":"Showing the last {{count}} messages of #{{channel}}","file":{"download":"Download","previewLoading":"$t(loading)...","open":"Open","unableToDisplay":"Unable to display file","dropzone":{"add":"Add files to #{{channel}}"}},"loadingHistory":"Loading history...","loadMore":"Click or scroll up to load older messages","sendMessagePlaceholder":"Type a message...","status":{"users":"user","users_plural":"users"}},"configuration":"Configuration","controlPanel":{"channels":"Channels","closeChannel":"Close","startJsIpfs":"Start js-ipfs"},"disclaimer":{"alpha":{"content":"This is an alpha version of the software. Things will break and change — chats will be lost. Use at your own risk."}},"joinChannel":{"inputPlaceholder":"Join or Create Channel"},"login":{"nickname":"Nickname","orLoginWith":"Or login with","pressEnterToLogin":"Press ENTER to login"},"loading":"Loading","settings":{"names":{"themeName":"Theme","language":"Language","sidePanelPosition":"Sidepanel position","colorifyUsernames":"Colorify usernames","useEmojis":"Use emojis","emojiSet":"Emoji theme","useMonospaceFont":"Use monospace font","useLargeMessage":"Use large messages","messageNotifications":"Notifications"},"descriptions":{},"options":{"themeName":{"default":"Default","purple1":"Purple 1","purple2":"Purple 2","magenta":"Magenta","red":"Red","orange":"Orange","brown":"Brown","lime":"Lime","green":"Green","cyan":"Cyan","blue1":"Blue 1","blue2":"Blue 2","grey":"Grey"},"language":{"en":"English","fi":"Suomi","pt":"Portuguese","zh":"Simplified Chinese"},"sidePanelPosition":{"left":"Left","right":"Right"},"emojiSet":{"apple":"Apple","emojione":"Emojione","facebook":"Facebook","google":"Google","messenger":"Messenger","twitter":"Twitter"},"messageNotifications":{"all":"All","mentions":"Only mentions","none":"None"}}},"userProfile":{"identityType":"Identity provider","identityId":"Identity id","identityPublicKey":"Public key"},"version":"Version","viewNames":{"settings":"Settings"}}')},1212:function(e,t,r){"use strict";(function(e){var o,a=r(1213),n=r(2957);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i,s,c={translation:a,dateLocale:n.a};t.a=c,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(c,"default","/Users/skysbird/workspace/orbit-web/src/locales/fi/index.js"),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)}).call(this,r(52)(e))},1213:function(e){e.exports=JSON.parse('{"channel":{"beginningOf":"Kanavan #{{channel}} alku","showingLast":"Näytetään vain yksi kanavan #{{channel}} viesti","showingLast_plural":"Näytetään kanavan #{{channel}} viimeiset {{count}} viestiä","file":{"download":"Lataa","previewLoading":"$t(loading)...","open":"Avaa","unableToDisplay":"Tiedostoa ei ole mahdollista näyttää","dropzone":{"add":"Lisää tiedostoja kanavalle #{{channel}}"}},"loadingHistory":"Ladataan historiaa...","loadMore":"Klikkaa tai rullaa ylös ladataksesi vanhempia viestejä","sendMessagePlaceholder":"Kirjoita viesti...","status":{"users":"käyttäjä","users_plural":"käyttäjää"}},"configuration":"Asetukset","controlPanel":{"channels":"Kanavat","closeChannel":"Sulje","startJsIpfs":"Käynnistä js-ipfs"},"disclaimer":{"alpha":{"content":"Tämä on ohjelman alpha versio. Asiat muuttuvat ja menevät rikki — keskustelut häviävät. Käytä omalla vastuulla."}},"joinChannel":{"inputPlaceholder":"Liity kanavalle / luo uusi"},"login":{"nickname":"Nimimerkki","orLoginWith":"Tai kirjaudu käyttäen","pressEnterToLogin":"Paina ENTER kirjautuaksesi"},"loading":"Ladataan","settings":{"names":{"themeName":"Teema","language":"Kieli","sidePanelPosition":"Sivupaneelin asemointi","colorifyUsernames":"Väritä käyttäjänimet","useEmojis":"Käytä hymiöitä","emojiSet":"Hymiö teema","useMonospaceFont":"Käytä monospace fonttia","useLargeMessage":"Käytä suuria viestejä","messageNotifications":"Ilmoitukset"},"descriptions":{},"options":{"themeName":{"default":"Oletus","purple1":"Violetti 1","purple2":"Violetti 2","magenta":"Purppura","red":"Punainen","orange":"Oranssi","brown":"Ruskea","lime":"Lime","green":"Vihreä","cyan":"Syaani","blue1":"Sininen 1","blue2":"Sininen 2","grey":"Harmaa"},"language":{"en":"English","fi":"Suomi","pt":"Portugali","zh":"Simplified Chinese"},"sidePanelPosition":{"left":"Vasemmalla","right":"Oikealla"},"emojiSet":{"apple":"Apple","emojione":"Emojione","facebook":"Facebook","google":"Google","messenger":"Messenger","twitter":"Twitter"},"messageNotifications":{"all":"Kaikki","mentions":"Vain maininnat","none":"Ei mitään"}}},"userProfile":{"identityType":"Identiteetin tarjoaja","identityId":"Identiteetin tunniste","identityPublicKey":"Julkinen avain"},"version":"Versio","viewNames":{"settings":"Asetukset"}}')},1214:function(e,t,r){"use strict";(function(e){var o,a=r(1215),n=r(2958);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i,s,c={translation:a,dateLocale:n.a};t.a=c,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(c,"default","/Users/skysbird/workspace/orbit-web/src/locales/pt/index.js"),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)}).call(this,r(52)(e))},1215:function(e){e.exports=JSON.parse('{"channel":{"beginningOf":"Inicio do #{{channel}}","file":{"download":"Baixar","previewLoading":"$t(carregando)...","open":"Abrir","unableToDisplay":"Não é possível abrir o arquivo","dropzone":{"add":"Adicionar arquivos ao #{{channel}"}},"loadingHistory":"Histórico de carregamento...","loadMore":"Clique ou role para cima para carregar mensagens antigas","sendMessagePlaceholder":"Digite uma mensagem","status":{"users":"Usário","users_plural":"Usários"}},"configuration":"Configuração","controlPanel":{"channels":"Canals","closeChannel":"Fechar","startJsIpfs":"Ligar o js-ipfs"},"disclaimer":{"alpha":{"content":"Isso é uma versao alfa do software. As coisas ao quebrar e mudar o que — As conversas serao perdidas."}},"joinChannel":{"inputPlaceholder":"Junte-se ou criar um canal"},"login":{"nickname":"Apelido","orLoginWith":"Ou entrar como","pressEnterToLogin":"Pressione ENTER para entrar"},"loading":"Carregando","settings":{"names":{"themeName":"Tema","language":"Idioma","sidePanelPosition":"Posição do painel lateral","colorifyUsernames":"Colorir apelidos","useEmojis":"Usar emojis","emojiSet":"Tema de Emoji","useMonospaceFont":"Usar fonte monospace","useLargeMessage":"Usar mensages grande"},"DESCRiptions":{},"options":{"themeName":{"default":"Defeito","purple1":"Roxo 1","purple2":"Roxo 2","magenta":"Magenta","red":"Vermelho","orange":"Laranja","brown":"Marrom","lime":"Limão","green":"Verde","cyan":"Ciano","blue1":"Azul 1","blue2":"Azul 2","grey":"Cinzento"},"language":{"en":"Ingles","fi":"Finlandês","zh":"Simplified Chinese"},"sidePanelPosition":{"left":"Esquerda","right":"Direita"},"emojiSet":{"apple":"Apple","emojione":"Emojione","facebook":"Facebook","google":"Google","messenger":"Messenger","twitter":"Twitter"}}},"userProfile":{"identityType":"Provedor de Identidade","identityId":"ID de identidade","identityPublicKey":"Chave pública"},"version":"Versão","viewNames":{"settings":"Configuração"}}')},1216:function(e,t,r){"use strict";(function(e){var o,a=r(1217),n=r(2956);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i,s,c={translation:a,dateLocale:n.a};t.a=c,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(c,"default","/Users/skysbird/workspace/orbit-web/src/locales/zh/index.js"),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)}).call(this,r(52)(e))},1217:function(e){e.exports=JSON.parse('{"channel":{"beginningOf":"连接到 #{{channel}}","showingLast":"显示 #{{channel}} 最后一条消息","showingLast_plural":"显示 #{{channel}} 的最后 {{count}}　条消息","file":{"download":"下载","previewLoading":"$t(loading)...","open":"打开","unableToDisplay":"无法显示文件","dropzone":{"add":"将文件添加到 #{{channel}}"}},"loadingHistory":"载入消息纪录...","loadMore":"单击或向上滚动以加载较早消息","sendMessagePlaceholder":"输入...","status":{"users":"用户","users_plural":"用户"}},"configuration":"配置","controlPanel":{"channels":"频道","closeChannel":"关闭","startJsIpfs":"启动 js-ipfs"},"disclaimer":{"alpha":{"content":"This is an alpha version of the software. Things will break and change — chats will be lost. Use at your own risk."}},"joinChannel":{"inputPlaceholder":"加入或創建頻道"},"login":{"nickname":"昵称","orLoginWith":"登录","pressEnterToLogin":"按回车确认登录"},"loading":"载入中","settings":{"names":{"themeName":"主题","language":"语言","sidePanelPosition":"侧面板位置","colorifyUsernames":"用户名着色","useEmojis":"使用emojis","emojiSet":"Emoji主题","useMonospaceFont":"使用monospace字体","useLargeMessage":"使用大消息","messageNotifications":"通知"},"descriptions":{},"options":{"themeName":{"default":"Default","purple1":"Purple 1","purple2":"Purple 2","magenta":"Magenta","red":"Red","orange":"Orange","brown":"Brown","lime":"Lime","green":"Green","cyan":"Cyan","blue1":"Blue 1","blue2":"Blue 2","grey":"Grey"},"language":{"en":"英文","fi":"芬兰语","pt":"葡萄牙语","zh":"简体中文"},"sidePanelPosition":{"left":"左","right":"右"},"emojiSet":{"apple":"Apple","emojione":"Emojione","facebook":"Facebook","google":"Google","messenger":"Messenger","twitter":"Twitter"},"messageNotifications":{"all":"全部","mentions":"仅当被提及时","none":"无"}}},"userProfile":{"identityType":"身份提供者","identityId":"id","identityPublicKey":"公钥"},"version":"版本","viewNames":{"settings":"设置"}}')},1218:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return RootStore}));var _NetworkStore__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1219),_UiStore__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2822),_SessionStore__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2824),_SettingsStore__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2826),enterModule;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},RootStore=function(){function RootStore(e){_classCallCheck(this,RootStore),this.i18n=e,this.sessionStore=new _SessionStore__WEBPACK_IMPORTED_MODULE_2__.a(this),this.settingsStore=new _SettingsStore__WEBPACK_IMPORTED_MODULE_3__.a(this),this.networkStore=new _NetworkStore__WEBPACK_IMPORTED_MODULE_0__.a(this),this.uiStore=new _UiStore__WEBPACK_IMPORTED_MODULE_1__.a(this)}return _createClass(RootStore,[{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),RootStore}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(RootStore,"RootStore","/Users/skysbird/workspace/orbit-web/src/stores/RootStore.js"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(52)(module))},1219:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return NetworkStore}));var mobx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(468),_ChannelStore__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1220),_utils_logger__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(469),_utils_worker_proxy__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1222),_utils_channels__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2820),_dec,_dec2,_dec3,_dec4,_dec5,_dec6,_dec7,_dec8,_dec9,_class,_descriptor,_descriptor2,_descriptor3,_descriptor4,_descriptor5,_descriptor6,_temp,enterModule;function asyncGeneratorStep(e,t,r,o,a,n,i){try{var s=e[n](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,a)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var n=e.apply(t,r);function i(e){asyncGeneratorStep(n,o,a,i,s,"next",e)}function s(e){asyncGeneratorStep(n,o,a,i,s,"throw",e)}i(void 0)}))}}function _initializerDefineProperty(e,t,r,o){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _applyDecoratedDescriptor(e,t,r,o,a){var n={};return Object.keys(o).forEach((function(e){n[e]=o[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce((function(r,o){return o(e,t,r)||r}),n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}function _initializerWarningHelper(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};Object(mobx__WEBPACK_IMPORTED_MODULE_0__.d)({enforceActions:"observed"});var logger=new _utils_logger__WEBPACK_IMPORTED_MODULE_2__.a,NetworkStore=(_dec=mobx__WEBPACK_IMPORTED_MODULE_0__.b.bound,_dec2=mobx__WEBPACK_IMPORTED_MODULE_0__.b.bound,_dec3=mobx__WEBPACK_IMPORTED_MODULE_0__.b.bound,_dec4=mobx__WEBPACK_IMPORTED_MODULE_0__.b.bound,_dec5=mobx__WEBPACK_IMPORTED_MODULE_0__.b.bound,_dec6=mobx__WEBPACK_IMPORTED_MODULE_0__.b.bound,_dec7=mobx__WEBPACK_IMPORTED_MODULE_0__.b.bound,_dec8=mobx__WEBPACK_IMPORTED_MODULE_0__.b.bound,_dec9=mobx__WEBPACK_IMPORTED_MODULE_0__.b.bound,_temp=function(){function NetworkStore(e){var t=this;_classCallCheck(this,NetworkStore),this.worker=null,this.networkName="讨论区",_initializerDefineProperty(this,"starting",_descriptor,this),_initializerDefineProperty(this,"stopping",_descriptor2,this),_initializerDefineProperty(this,"isOnline",_descriptor3,this),_initializerDefineProperty(this,"channels",_descriptor4,this),this._joiningChannelPromises={},_initializerDefineProperty(this,"swarmPeers",_descriptor5,this),_initializerDefineProperty(this,"defaultChannels",_descriptor6,this),this.rootStore=e,this.sessionStore=e.sessionStore,this.settingsStore=e.settingsStore,this.joinChannel=this.joinChannel.bind(this),this.workerProxy=new _utils_worker_proxy__WEBPACK_IMPORTED_MODULE_3__.a(this),Object(mobx__WEBPACK_IMPORTED_MODULE_0__.h)((function(){return t.sessionStore.username}),(function(e){e?t.isOnline||t.starting||t.start():t.stop()}))}var _stop,_start,_leaveChannel,_joinChannel;return _createClass(NetworkStore,[{key:"_onOrbitConnected",value:function(){this.isOnline=!0,this.starting=!1,this.settingsStore.networkSettings.channels.forEach(this.joinChannel),(this.rootStore.isNewAppVersion||0===this.settingsStore.networkSettings.channels.length)&&this.defaultChannels.forEach(this.joinChannel)}},{key:"_onOrbitDisconnected",value:function(){this.isOnline=!1,this.stopping=!1}},{key:"_onJoinedChannel",value:function(e){if("string"==typeof e){if(this.channelNames.includes(e))return this.channels[e];this.channels[e]=new _ChannelStore__WEBPACK_IMPORTED_MODULE_1__.a({network:this,channelName:e});var t=this.settingsStore.networkSettings;return t.channels=[].concat(t.channels.filter((function(t){return t!==e})),[e]),this.channels[e]}}},{key:"_onLeftChannel",value:function(e){if("string"==typeof e&&this.channelNames.includes(e)){this._removeChannel(e);var t=this.settingsStore.networkSettings;t.channels=t.channels.filter((function(t){return t!==e}))}}},{key:"_onSwarmPeerUpdate",value:function(e){this.swarmPeers=e}},{key:"_removeChannel",value:function(e){"string"==typeof e&&delete this.channels[e]}},{key:"_resetSwarmPeers",value:function(){this.swarmPeers=[]}},{key:"joinChannel",value:(_joinChannel=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof t){e.next=2;break}return e.abrupt("return");case 2:if(this.isOnline){e.next=4;break}throw new Error("Network is not online");case 4:return t in this._joiningChannelPromises||this.channelNames.includes(t)||(this._joiningChannelPromises[t]=this.workerProxy.joinChannel(t).then((function(){return r._onJoinedChannel(t)}))),e.abrupt("return",this._joiningChannelPromises[t]);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return _joinChannel.apply(this,arguments)})},{key:"leaveChannel",value:(_leaveChannel=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof t){e.next=2;break}return e.abrupt("return");case 2:if(this.isOnline){e.next=4;break}throw new Error("Network is not online");case 4:if(!this.channelNames.includes(t)){e.next=7;break}return e.next=7,this.workerProxy.leaveChannel(t);case 7:return e.abrupt("return",this._onLeftChannel(t));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return _leaveChannel.apply(this,arguments)})},{key:"start",value:(_start=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,r,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isOnline){e.next=2;break}return e.abrupt("return");case 2:return Object(mobx__WEBPACK_IMPORTED_MODULE_0__.i)((function(){o.starting=!0})),logger.info("Starting network"),(t=Object(mobx__WEBPACK_IMPORTED_MODULE_0__.k)(this.settingsStore.networkSettings.ipfs)||{}).repo="orbit-chat-ipfs-".concat(this.sessionStore.username),t.EXPERIMENTAL=Object.assign({},t.EXPERIMENTAL,{pubsub:!0}),(r=Object(mobx__WEBPACK_IMPORTED_MODULE_0__.k)(this.settingsStore.networkSettings.orbit)||{}).directory="orbit-chat-orbitdb-".concat(this.sessionStore.username),r.id=this.sessionStore.username,e.next=12,this.workerProxy.startNetwork({ipfs:t,orbit:r});case 12:case"end":return e.stop()}}),e,this)}))),function(){return _start.apply(this,arguments)})},{key:"stop",value:(_stop=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isOnline){e.next=2;break}return e.abrupt("return");case 2:return Object(mobx__WEBPACK_IMPORTED_MODULE_0__.i)((function(){t.stopping=!0})),logger.info("Stopping network"),clearInterval(this.channelPeerInterval),clearInterval(this.channelProcessInterval),e.next=8,this.workerProxy.stopNetwork();case 8:this.channelNames.forEach(this._removeChannel),this._resetSwarmPeers();case 10:case"end":return e.stop()}}),e,this)}))),function(){return _stop.apply(this,arguments)})},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}},{key:"hasUnreadMessages",get:function(){return this.channelsAsArray.some((function(e){return e.hasUnreadMessages}))}},{key:"channelNames",get:function(){return Object(mobx__WEBPACK_IMPORTED_MODULE_0__.f)(this.channels).sort((function(e,t){return e.localeCompare(t)}))}},{key:"channelsAsArray",get:function(){return Object(mobx__WEBPACK_IMPORTED_MODULE_0__.m)(this.channels).sort((function(e,t){var r=e.channelName,o=t.channelName;return r.localeCompare(o)}))}},{key:"unreadEntriesCount",get:function(){return Object(mobx__WEBPACK_IMPORTED_MODULE_0__.m)(this.channels).filter((function(e){return!e.active})).reduce((function(e,t){return e+t.unreadEntries.length}),0)}}]),NetworkStore}(),_class=_temp,_descriptor=_applyDecoratedDescriptor(_class.prototype,"starting",[mobx__WEBPACK_IMPORTED_MODULE_0__.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_descriptor2=_applyDecoratedDescriptor(_class.prototype,"stopping",[mobx__WEBPACK_IMPORTED_MODULE_0__.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_descriptor3=_applyDecoratedDescriptor(_class.prototype,"isOnline",[mobx__WEBPACK_IMPORTED_MODULE_0__.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_descriptor4=_applyDecoratedDescriptor(_class.prototype,"channels",[mobx__WEBPACK_IMPORTED_MODULE_0__.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),_descriptor5=_applyDecoratedDescriptor(_class.prototype,"swarmPeers",[mobx__WEBPACK_IMPORTED_MODULE_0__.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_descriptor6=_applyDecoratedDescriptor(_class.prototype,"defaultChannels",[mobx__WEBPACK_IMPORTED_MODULE_0__.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return["ipfs-dev"]}}),_applyDecoratedDescriptor(_class.prototype,"hasUnreadMessages",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"hasUnreadMessages"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"channelNames",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"channelNames"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"channelsAsArray",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"channelsAsArray"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"unreadEntriesCount",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"unreadEntriesCount"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_onOrbitConnected",[_dec],Object.getOwnPropertyDescriptor(_class.prototype,"_onOrbitConnected"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_onOrbitDisconnected",[_dec2],Object.getOwnPropertyDescriptor(_class.prototype,"_onOrbitDisconnected"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_onJoinedChannel",[_dec3],Object.getOwnPropertyDescriptor(_class.prototype,"_onJoinedChannel"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_onLeftChannel",[_dec4],Object.getOwnPropertyDescriptor(_class.prototype,"_onLeftChannel"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_onSwarmPeerUpdate",[_dec5],Object.getOwnPropertyDescriptor(_class.prototype,"_onSwarmPeerUpdate"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_removeChannel",[_dec6],Object.getOwnPropertyDescriptor(_class.prototype,"_removeChannel"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_resetSwarmPeers",[_dec7],Object.getOwnPropertyDescriptor(_class.prototype,"_resetSwarmPeers"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"start",[_dec8],Object.getOwnPropertyDescriptor(_class.prototype,"start"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"stop",[_dec9],Object.getOwnPropertyDescriptor(_class.prototype,"stop"),_class.prototype),_class),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(logger,"logger","/Users/skysbird/workspace/orbit-web/src/stores/NetworkStore.js"),reactHotLoader.register(NetworkStore,"NetworkStore","/Users/skysbird/workspace/orbit-web/src/stores/NetworkStore.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(52)(module))},1220:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return ChannelStore}));var mobx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(468),lodash_debounce__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(498),lodash_debounce__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_1__),_utils_logger__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(469),_utils_notify__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(811),_dec,_dec2,_dec3,_dec4,_dec5,_class,_descriptor,_descriptor2,_descriptor3,_descriptor4,_descriptor5,_descriptor6,_descriptor7,_descriptor8,_temp,enterModule;function asyncGeneratorStep(e,t,r,o,a,n,i){try{var s=e[n](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,a)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var n=e.apply(t,r);function i(e){asyncGeneratorStep(n,o,a,i,s,"next",e)}function s(e){asyncGeneratorStep(n,o,a,i,s,"throw",e)}i(void 0)}))}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _initializerDefineProperty(e,t,r,o){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _applyDecoratedDescriptor(e,t,r,o,a){var n={};return Object.keys(o).forEach((function(e){n[e]=o[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce((function(r,o){return o(e,t,r)||r}),n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}function _initializerWarningHelper(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};Object(mobx__WEBPACK_IMPORTED_MODULE_0__.d)({enforceActions:"observed"});var logger=new _utils_logger__WEBPACK_IMPORTED_MODULE_2__.a,formatMeta=function(e){return Object.assign(e,{from:formatFrom(e.from)})},formatFrom=function(e){return{name:formatName(e),image:e.image,location:e.location}},formatName=function(e){if("name"in e){if(checkName(e.name))return e.name;if("id"in e.name&&checkName(e.name.id))return e.name.id}return"anonymous"},checkName=function(e){return"string"==typeof e&&e.length>0},defaultMessageOffset=64,defaultLoadmoreCount=64,maxEntryCount=256,ChannelStore=(_dec=mobx__WEBPACK_IMPORTED_MODULE_0__.b.bound,_dec2=mobx__WEBPACK_IMPORTED_MODULE_0__.b.bound,_dec3=mobx__WEBPACK_IMPORTED_MODULE_0__.b.bound,_dec4=mobx__WEBPACK_IMPORTED_MODULE_0__.b.bound,_dec5=mobx__WEBPACK_IMPORTED_MODULE_0__.b.bound,_temp=function(){function ChannelStore(e){var t=this,r=e.network,o=e.channelName;_classCallCheck(this,ChannelStore),_initializerDefineProperty(this,"_storableState",_descriptor,this),this._sendQueue=[],this._sending=!1,_initializerDefineProperty(this,"_sendingMessageCounter",_descriptor2,this),_initializerDefineProperty(this,"_replicationStatus",_descriptor3,this),this.maxEntryCount=maxEntryCount,_initializerDefineProperty(this,"entriesMap",_descriptor4,this),_initializerDefineProperty(this,"peers",_descriptor5,this),_initializerDefineProperty(this,"loading",_descriptor6,this),_initializerDefineProperty(this,"replicating",_descriptor7,this),_initializerDefineProperty(this,"messageOffset",_descriptor8,this),this.network=r,this.channelName=o,this.sendMessage=this.sendMessage.bind(this),this.sendFiles=this.sendFiles.bind(this),this.loadFile=this.loadFile.bind(this),this._loadState(),Object(mobx__WEBPACK_IMPORTED_MODULE_0__.h)((function(){return Object(mobx__WEBPACK_IMPORTED_MODULE_0__.m)(t._storableState)}),this._saveState.bind(this)),Object(mobx__WEBPACK_IMPORTED_MODULE_0__.h)((function(){return t.unreadMessages}),this._checkForNotification.bind(this))}var _loadFile;return _createClass(ChannelStore,[{key:"_decrementSendingMessageCounter",value:function(){this._sendingMessageCounter=Math.max(0,this._sendingMessageCounter-1)}},{key:"_incrementSendingMessageCounter",value:function(){this._sendingMessageCounter+=1}},{key:"_updateEntries",value:function(e){var t=this;e instanceof Array&&e.forEach((function(e){return t.entriesMap[e.hash]=e}))}},{key:"_updatePeers",value:function(e){this.peers=e}},{key:"_onLoadProgress",value:function(e,t){this.loading||(this.loading=!0),t&&Object.assign(this._replicationStatus,t),this._onEntry(e)}},{key:"_onLoaded",value:function(){this.loading&&(this.loading=!1)}},{key:"_onReplicateProgress",value:function(e,t){this.replicating||(this.replicating=!0),t&&Object.assign(this._replicationStatus,t),this._onEntry(e)}},{key:"_onReplicated",value:function(){this.replicating&&(this.replicating=!1)}},{key:"_onEntry",value:function(e){var t=this;e&&(this._entrycache=this._entrycache||[],this._entrycache.push(e),this._debouncedUpdate=this._debouncedUpdate||lodash_debounce__WEBPACK_IMPORTED_MODULE_1___default()((function(){t._updateEntries(t._entrycache),t._entrycache=[]}),250,{maxWait:1e3}),this._debouncedUpdate())}},{key:"_onWrite",value:function(e){this._markEntryAsRead(e),this._updateEntries([e]),this._decrementSendingMessageCounter()}},{key:"_onPeerUpdate",value:function(e){this._updatePeers(e)}},{key:"_onError",value:function(e){logger.error(this.channelName,e),this.loading=!1,this.replicating=!1}},{key:"_loadState",value:function(){try{Object.assign(this._storableState,this._getStoredStates()[this.channelName]||{})}catch(e){}}},{key:"_markEntryAsRead",value:function(e){e&&(this._storableState.lastSeenTimestamp=Math.max(this._storableState.lastSeenTimestamp||0,e.payload.value.meta.ts||0))}},{key:"_formatMessages",value:function(e){var t=this._storableState.lastSeenTimestamp||0;return JSON.parse(JSON.stringify(e)).map((function(e){return Object.assign(e.payload.value,{hash:e.hash,userIdentity:e.identity,unread:e.payload.value.meta.ts>t,meta:formatMeta(e.payload.value.meta)})}))}},{key:"_getStoredStates",value:function(){return JSON.parse(localStorage.getItem(this.storagekey))||{}}},{key:"_saveState",value:function(){try{var e=Object.assign(this._getStoredStates(),_defineProperty({},this.channelName,this._storableState));localStorage.setItem(this.storagekey,JSON.stringify(e))}catch(e){logger.error(e)}}},{key:"_checkForNotification",value:function(e){var t=this;!document.hidden&&this.active||e.filter((function(e){return"text"===e.meta.type})).forEach((function(e){var r=!1;!r&&t.newMentionNotificationsEnabled&&(r=t._sendNewMentionNotification(e)),!r&&t.newMessageNotificationsEnabled&&(r=t._sendNewMessageNotification(e))}))}},{key:"_sendNewMessageNotification",value:function(e){return Object(_utils_notify__WEBPACK_IMPORTED_MODULE_3__.b)("New message in orbit.chat","#".concat(this.channelName,"\n").concat(e.meta.from.name,": ").concat(e.content),e.hash),!0}},{key:"_sendNewMentionNotification",value:function(e){return!!this._userNameRegex.test(e.content)&&(Object(_utils_notify__WEBPACK_IMPORTED_MODULE_3__.b)("You were mentioned in orbit.chat","#".concat(this.channelName,"\n").concat(e.meta.from.name,": ").concat(e.content),e.hash),!0)}},{key:"_sendFile",value:function(e){var t=this;return new Promise((function(r){var o=new FileReader;o.onload=function(){var o=_asyncToGenerator(regeneratorRuntime.mark((function o(a){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.network.workerProxy.sendFileMessage(t.channelName,e,a.target.result);case 2:r();case 3:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}(),o.readAsArrayBuffer(e)}))}},{key:"markEntryAsReadAtIndex",value:function(e){"number"==typeof e&&this._markEntryAsRead(this.accessableEntries[e])}},{key:"markEntryAsReadWithHash",value:function(e){"string"==typeof e&&this._markEntryAsRead(this.entriesMap[e])}},{key:"increaseMessageOffset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:defaultLoadmoreCount;this.messageOffset=Math.min(this.messageOffset+e,this.entryCount)}},{key:"resetMessageOffset",value:function(){this.messageOffset=defaultMessageOffset}},{key:"sendMessage",value:function(e){return"string"!=typeof e||""===e?Promise.resolve():(this._incrementSendingMessageCounter(),this.network.workerProxy.sendTextMessage(this.channelName,e))}},{key:"sendFiles",value:function(e){for(var t=[],r=0;r<e.length;r++)t.push(this._sendFile(e[r]));return Promise.all(t)}},{key:"loadFile",value:(_loadFile=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.network.workerProxy.getFile({hash:t,timeout:2e4},r);case 2:return o=e.sent,e.abrupt("return",o.data);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return _loadFile.apply(this,arguments)})},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}},{key:"_entries",get:function(){return Object.values(this.entriesMap).sort((function(e,t){return e.payload.value.meta.ts-t.payload.value.meta.ts}))}},{key:"_username",get:function(){return this.network.sessionStore.username}},{key:"_userNameRegex",get:function(){return new RegExp("@(".concat(this._username,")(?!\\w)"),"u")}},{key:"accessableEntries",get:function(){return this._entries.slice(-maxEntryCount)}},{key:"visibleEntries",get:function(){return this.accessableEntries.slice(-this.messageOffset)}},{key:"unreadEntries",get:function(){var e=this._storableState.lastSeenTimestamp||0;return this.accessableEntries.filter((function(t){return t.payload.value.meta.ts>e}))}},{key:"entryCount",get:function(){return this.accessableEntries.length}},{key:"messages",get:function(){return this._formatMessages(this.visibleEntries)}},{key:"unreadMessages",get:function(){return this._formatMessages(this.unreadEntries)}},{key:"hasUnreadMessages",get:function(){return!!this.unreadEntries&&this.unreadEntries.length>0}},{key:"hasMentions",get:function(){return!1}},{key:"sendingMessage",get:function(){return this._sendingMessageCounter>0}},{key:"storagekey",get:function(){var e=this.network.sessionStore.username;if(!e)throw new Error("No logged in user");return"orbit-chat.".concat(e,".channel-states")}},{key:"userCount",get:function(){return this.peers.length+1}},{key:"active",get:function(){return this.network.rootStore.uiStore.currentChannelName===this.channelName}},{key:"newMessageNotificationsEnabled",get:function(){return"all"===this.network.rootStore.uiStore.messageNotifications}},{key:"newMentionNotificationsEnabled",get:function(){return["all","mentions"].indexOf(this.network.rootStore.uiStore.messageNotifications)>-1}}]),ChannelStore}(),_class=_temp,_descriptor=_applyDecoratedDescriptor(_class.prototype,"_storableState",[mobx__WEBPACK_IMPORTED_MODULE_0__.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),_descriptor2=_applyDecoratedDescriptor(_class.prototype,"_sendingMessageCounter",[mobx__WEBPACK_IMPORTED_MODULE_0__.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_descriptor3=_applyDecoratedDescriptor(_class.prototype,"_replicationStatus",[mobx__WEBPACK_IMPORTED_MODULE_0__.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{progress:0,max:0}}}),_descriptor4=_applyDecoratedDescriptor(_class.prototype,"entriesMap",[mobx__WEBPACK_IMPORTED_MODULE_0__.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),_descriptor5=_applyDecoratedDescriptor(_class.prototype,"peers",[mobx__WEBPACK_IMPORTED_MODULE_0__.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_descriptor6=_applyDecoratedDescriptor(_class.prototype,"loading",[mobx__WEBPACK_IMPORTED_MODULE_0__.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_descriptor7=_applyDecoratedDescriptor(_class.prototype,"replicating",[mobx__WEBPACK_IMPORTED_MODULE_0__.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_descriptor8=_applyDecoratedDescriptor(_class.prototype,"messageOffset",[mobx__WEBPACK_IMPORTED_MODULE_0__.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return defaultMessageOffset}}),_applyDecoratedDescriptor(_class.prototype,"_entries",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"_entries"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_username",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"_username"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_userNameRegex",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"_userNameRegex"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"accessableEntries",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"accessableEntries"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"visibleEntries",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"visibleEntries"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"unreadEntries",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"unreadEntries"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"entryCount",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"entryCount"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"messages",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"messages"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"unreadMessages",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"unreadMessages"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"hasUnreadMessages",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"hasUnreadMessages"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"hasMentions",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"hasMentions"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"sendingMessage",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"sendingMessage"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"storagekey",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"storagekey"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"userCount",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"userCount"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"active",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"active"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"newMessageNotificationsEnabled",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"newMessageNotificationsEnabled"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"newMentionNotificationsEnabled",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"newMentionNotificationsEnabled"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_decrementSendingMessageCounter",[mobx__WEBPACK_IMPORTED_MODULE_0__.b],Object.getOwnPropertyDescriptor(_class.prototype,"_decrementSendingMessageCounter"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_incrementSendingMessageCounter",[mobx__WEBPACK_IMPORTED_MODULE_0__.b],Object.getOwnPropertyDescriptor(_class.prototype,"_incrementSendingMessageCounter"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_updateEntries",[mobx__WEBPACK_IMPORTED_MODULE_0__.b],Object.getOwnPropertyDescriptor(_class.prototype,"_updateEntries"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_updatePeers",[mobx__WEBPACK_IMPORTED_MODULE_0__.b],Object.getOwnPropertyDescriptor(_class.prototype,"_updatePeers"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_onLoadProgress",[mobx__WEBPACK_IMPORTED_MODULE_0__.b],Object.getOwnPropertyDescriptor(_class.prototype,"_onLoadProgress"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_onLoaded",[mobx__WEBPACK_IMPORTED_MODULE_0__.b],Object.getOwnPropertyDescriptor(_class.prototype,"_onLoaded"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_onReplicateProgress",[mobx__WEBPACK_IMPORTED_MODULE_0__.b],Object.getOwnPropertyDescriptor(_class.prototype,"_onReplicateProgress"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_onReplicated",[mobx__WEBPACK_IMPORTED_MODULE_0__.b],Object.getOwnPropertyDescriptor(_class.prototype,"_onReplicated"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_onError",[mobx__WEBPACK_IMPORTED_MODULE_0__.b],Object.getOwnPropertyDescriptor(_class.prototype,"_onError"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_loadState",[mobx__WEBPACK_IMPORTED_MODULE_0__.b],Object.getOwnPropertyDescriptor(_class.prototype,"_loadState"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_markEntryAsRead",[_dec],Object.getOwnPropertyDescriptor(_class.prototype,"_markEntryAsRead"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"markEntryAsReadAtIndex",[_dec2],Object.getOwnPropertyDescriptor(_class.prototype,"markEntryAsReadAtIndex"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"markEntryAsReadWithHash",[_dec3],Object.getOwnPropertyDescriptor(_class.prototype,"markEntryAsReadWithHash"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"increaseMessageOffset",[_dec4],Object.getOwnPropertyDescriptor(_class.prototype,"increaseMessageOffset"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"resetMessageOffset",[_dec5],Object.getOwnPropertyDescriptor(_class.prototype,"resetMessageOffset"),_class.prototype),_class),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(logger,"logger","/Users/skysbird/workspace/orbit-web/src/stores/ChannelStore.js"),reactHotLoader.register(formatMeta,"formatMeta","/Users/skysbird/workspace/orbit-web/src/stores/ChannelStore.js"),reactHotLoader.register(formatFrom,"formatFrom","/Users/skysbird/workspace/orbit-web/src/stores/ChannelStore.js"),reactHotLoader.register(formatName,"formatName","/Users/skysbird/workspace/orbit-web/src/stores/ChannelStore.js"),reactHotLoader.register(checkName,"checkName","/Users/skysbird/workspace/orbit-web/src/stores/ChannelStore.js"),reactHotLoader.register(defaultMessageOffset,"defaultMessageOffset","/Users/skysbird/workspace/orbit-web/src/stores/ChannelStore.js"),reactHotLoader.register(defaultLoadmoreCount,"defaultLoadmoreCount","/Users/skysbird/workspace/orbit-web/src/stores/ChannelStore.js"),reactHotLoader.register(maxEntryCount,"maxEntryCount","/Users/skysbird/workspace/orbit-web/src/stores/ChannelStore.js"),reactHotLoader.register(ChannelStore,"ChannelStore","/Users/skysbird/workspace/orbit-web/src/stores/ChannelStore.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(52)(module))},1221:function(e,t,r){e.exports=r.p+"images/orbit_logo_32x32.765345e4c928bf596aa0.png"},1222:function(e,t,r){"use strict";(function(e){var o,a=r(812),n=(r(140),r(813),r(1104),r(2633));r(1166),r(553);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i=["connected","disconnected","joined","left","peers"],s=["write","load.progress","replicate.progress","ready","replicated"];function c(e,t){this.store=e,this.worker=t||new n.a(this)}function l(e,t,r){return function(t){t.asyncKey&&t.asyncKey===r&&(delete t.asyncKey,t.errorMsg?e.reject(t.errorMsg):e.resolve(t))}}function _(e,t,r){return function(o){var a=o.data;a.streamEvent&&a.hash===t&&("end"!==a.streamEvent&&"error"!==a.streamEvent||e.removeEventListener("message",this),delete a.hash,r(a))}}c.prototype.postMessage=function(e){var t=this;return new Promise((function(r,o){var n=Object(a.a)();e.asyncKey=n,t.worker.onMessage(e,l({resolve:r,reject:o},t.worker,n))}))},c.prototype.startNetwork=function(e){var t=e.ipfs,r=e.orbit;return this.postMessage({action:"network:start",options:{ipfs:t,orbit:r}})},c.prototype.stopNetwork=function(){return this.postMessage({action:"network:stop"})},c.prototype.joinChannel=function(e){return this.postMessage({action:"orbit:join-channel",options:{channelName:e}})},c.prototype.leaveChannel=function(e){return this.postMessage({action:"orbit:leave-channel",options:{channelName:e}})},c.prototype.sendTextMessage=function(e,t){return this.postMessage({action:"channel:send-text-message",options:{channelName:e,message:t}})},c.prototype.sendFileMessage=function(e,t,r){return this.postMessage({action:"channel:send-file-message",options:{channelName:e,file:{filename:t.name,buffer:r,meta:{mimeType:t.type,size:t.size}}}})},c.prototype.getFile=function(e,t){return"function"==typeof t&&this.worker.addEventListener("message",_(this.worker,e.hash,t)),this.postMessage({action:"ipfs:get-file",options:e})},c.prototype.onMessage=function(e){var t,r,o;if(!e.asyncKey&&!e.stream&&"string"==typeof e.action&&"string"==typeof e.name){var a=e.meta?this.store.channels[e.meta.channelName]:null;switch(e.action){case"orbit-event":switch(e.name){case"connected":this.store._onOrbitConnected();break;case"disconnected":this.store._onOrbitDisconnected();break;case"joined":(t=this.store)._onJoinedChannel.apply(t,e.args);break;case"left":(r=this.store)._onLeftChannel.apply(r,e.args);break;case"peers":(o=this.store)._onSwarmPeerUpdate.apply(o,e.args)}break;case"channel-event":if(!a)return;switch(console.log(e),e.name){case"error":a._onError.apply(a,e.args);break;case"peer.update":console.log(e),a._onPeerUpdate(e.meta.peers);break;case"load.progress":a._onLoadProgress(e.args[2],e.meta.replicationStatus);break;case"replicate.progress":a._onReplicateProgress(e.args[2],e.meta.replicationStatus);break;case"ready":a._onLoaded();break;case"replicated":a._onReplicated();break;case"write":a._onWrite(e.args[2][0])}}}},c.prototype.onError=function(e){console.error(e.message)};var u,p,d=c;t.a=d,(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(i,"ORBIT_EVENTS","/Users/skysbird/workspace/orbit-web/src/utils/worker-proxy.js"),u.register(s,"CHANNEL_FEED_EVENTS","/Users/skysbird/workspace/orbit-web/src/utils/worker-proxy.js"),u.register(c,"WorkerProxy","/Users/skysbird/workspace/orbit-web/src/utils/worker-proxy.js"),u.register(l,"asyncListenerFactory","/Users/skysbird/workspace/orbit-web/src/utils/worker-proxy.js"),u.register(_,"fileStreamListenerFactory","/Users/skysbird/workspace/orbit-web/src/utils/worker-proxy.js"),u.register(d,"default","/Users/skysbird/workspace/orbit-web/src/utils/worker-proxy.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,r(52)(e))},1227:function(e,t){},1290:function(e,t){},1291:function(e,t){},1622:function(e,t){},1701:function(e,t){},1703:function(e,t){},2008:function(e,t){},2114:function(e,t){},2163:function(e,t){},2445:function(e,t){},2447:function(e,t){},2481:function(e,t){},2515:function(e,t){},2517:function(e,t){},2553:function(e,t){},2633:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return NetworkWorker}));var _babel_polyfill__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(140),_babel_polyfill__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_polyfill__WEBPACK_IMPORTED_MODULE_0__),ipfs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(813),ipfs__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(ipfs__WEBPACK_IMPORTED_MODULE_1__),orbit___WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1104),orbit___WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(orbit___WEBPACK_IMPORTED_MODULE_2__),_utils_uuid__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(812),_utils_promise_queue__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1166),_utils_file_helpers__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(553),enterModule;function asyncGeneratorStep(e,t,r,o,a,n,i){try{var s=e[n](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,a)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var n=e.apply(t,r);function i(e){asyncGeneratorStep(n,o,a,i,s,"next",e)}function s(e){asyncGeneratorStep(n,o,a,i,s,"throw",e)}i(void 0)}))}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},ORBIT_EVENTS=["connected","disconnected","joined","left","peers"],CHANNEL_FEED_EVENTS=["write","load.progress","replicate.progress","ready","replicated"],NetworkWorker=function(){function NetworkWorker(e){var t=this;_classCallCheck(this,NetworkWorker),this.proxy=e,setInterval((function(){t.refreshChannelPeers.call(t)}),1e3)}var _handleIpfsGetFile,_startOrbit,_startIPFS,_handleJoinChannel,_handleStop,_handleStart,_channelEvent,_onMessage;return _createClass(NetworkWorker,[{key:"onMessage",value:(_onMessage=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.action&&"string"==typeof t.action){e.next=2;break}return e.abrupt("return");case 2:e.t0=t.action,e.next="network:start"===e.t0?5:"network:stop"===e.t0?9:"orbit:join-channel"===e.t0?13:"orbit:leave-channel"===e.t0?17:"channel:send-text-message"===e.t0?21:"channel:send-file-message"===e.t0?25:"ipfs:get-file"===e.t0?29:33;break;case 5:return e.next=7,this.handleStart.call(this,t);case 7:return o=e.sent,e.abrupt("break",35);case 9:return e.next=11,this.handleStop.call(this,t);case 11:return o=e.sent,e.abrupt("break",35);case 13:return e.next=15,this.handleJoinChannel.call(this,t);case 15:return o=e.sent,e.abrupt("break",35);case 17:return e.next=19,this.handleLeaveChannel.call(this,t);case 19:return o=e.sent,e.abrupt("break",35);case 21:return e.next=23,this.handleSendTextMessage.call(this,t);case 23:return o=e.sent,e.abrupt("break",35);case 25:return e.next=27,this.handleSendFileMessage.call(this,t);case 27:return o=e.sent,e.abrupt("break",35);case 29:return e.next=31,this.handleIpfsGetFile.call(this,t);case 31:return o=e.sent,e.abrupt("break",35);case 33:return console.warn("Unknown action",t.action),e.abrupt("break",35);case 35:console.log(o),o||(o=[{}]),t.asyncKey&&(o[0].asyncKey=t.asyncKey),r.call.apply(r,[this].concat(o));case 39:case"end":return e.stop()}}),e,this)}))),function(e,t){return _onMessage.apply(this,arguments)})},{key:"orbitEvent",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];if("string"==typeof e){r=-1!==["joined","left"].indexOf(e)?[r[0]]:[];Object(_utils_uuid__WEBPACK_IMPORTED_MODULE_3__.a)();this.proxy.onMessage({action:"orbit-event",name:e,args:r})}}},{key:"channelEvent",value:(_channelEvent=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var o,a,n,i,s,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof t){e.next=2;break}return e.abrupt("return");case 2:if("string"==typeof r){e.next=4;break}return e.abrupt("return");case 4:if(o=this.orbit.channels[r],a={channelName:r,replicationStatus:o.replicationStatus},"peer.update"!==t){e.next=10;break}return e.next=9,o.peers;case 9:a.peers=e.sent;case 10:for(n=c.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=c[s];this.proxy.onMessage({action:"channel-event",name:t,meta:a,args:i});case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return _channelEvent.apply(this,arguments)})},{key:"handleStart",value:(_handleStart=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.options,e.next=3,this.startIPFS.call(this,r);case 3:return e.next=5,this.startOrbit.call(this,r);case 5:this.ipfs.version((function(e,t){var r=t.version;e&&console.info("Unable to get js-ipfs version"),console.info("Running js-ipfs version ".concat(r))}));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return _handleStart.apply(this,arguments)})},{key:"handleStop",value:(_handleStop=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.orbit.disconnect();case 2:return e.next=4,this.ipfs.stop();case 4:delete this.orbit,delete this.ipfs;case 6:case"end":return e.stop()}}),e,this)}))),function(){return _handleStop.apply(this,arguments)})},{key:"handleJoinChannel",value:(_handleJoinChannel=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,o,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.options.channelName,e.next=3,this.orbit.join(r);case 3:(o=e.sent).load(256),CHANNEL_FEED_EVENTS.forEach((function(e){o.feed.events.on(e,a.channelEvent.bind(a,e,r))}));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return _handleJoinChannel.apply(this,arguments)})},{key:"handleLeaveChannel",value:function(e){var t=e.options;this.orbit.leave(t.channelName)}},{key:"handleSendTextMessage",value:function(e){var t=e.options,r=this.orbit.channels[t.channelName],o=r.sendMessage.bind(r,t.message);this.queueCall.call(this,o)}},{key:"handleSendFileMessage",value:function(e){var t=e.options,r=this.orbit.channels[t.channelName],o=r.sendFile.bind(r,t.file);this.queueCall.call(this,o)}},{key:"queueCall",value:function(e){var t=this;this._callBuffer=this._callBuffer||[],this._callBuffer.push(e),this._promiseQueue=this._promiseQueue||Object(_utils_promise_queue__WEBPACK_IMPORTED_MODULE_4__.a)(this._callBuffer,(function(){t._promiseQueue=null}))}},{key:"startIPFS",value:(_startIPFS=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ipfs__WEBPACK_IMPORTED_MODULE_1___default.a.create(t.ipfs);case 2:this.ipfs=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(e){return _startIPFS.apply(this,arguments)})},{key:"startOrbit",value:(_startOrbit=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,orbit___WEBPACK_IMPORTED_MODULE_2___default.a.create(this.ipfs,t.orbit);case 2:this.orbit=e.sent,ORBIT_EVENTS.forEach((function(e){r.orbit.events.on(e,r.orbitEvent.bind(r,e))})),this.orbit.events.emit("connected",this.orbit.user);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return _startOrbit.apply(this,arguments)})},{key:"refreshChannelPeers",value:function(){var e=this;this.orbit&&this.orbit.channels&&Object.keys(this.orbit.channels).forEach((function(t){e.channelEvent.call(e,"peer.update",t)}))}},{key:"handleIpfsGetFile",value:(_handleIpfsGetFile=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.options,e.prev=1,e.next=4,getFile(this.orbit,r.hash,this.postMessage,r);case 4:return o=e.sent,e.abrupt("return",[{data:o},[o.buffer]]);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[{data:null,errorMsg:e.t0.message}]);case 11:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e){return _handleIpfsGetFile.apply(this,arguments)})},{key:"getFile",value:function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(a,n){var i=new Error("Timeout while fetching file"),s=o.timeout||5e3,c=setTimeout((function(){n(i)}),s),l=e.getFile(t),_=new Uint8Array(0);l.on("error",(function(e){clearTimeout(c),r({streamEvent:"error",hash:t,error:e}),n(e)})),l.on("data",(function(e){clearTimeout(c),_=Object(_utils_file_helpers__WEBPACK_IMPORTED_MODULE_5__.a)(_,e),r({streamEvent:"data",hash:t,chunk:e},[e.buffer]),c=setTimeout((function(){n(i)}),s)})),l.on("end",(function(){clearTimeout(c),r({streamEvent:"end",hash:t}),a(_)}))}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),NetworkWorker}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(ORBIT_EVENTS,"ORBIT_EVENTS","/Users/skysbird/workspace/orbit-web/src/workers/network.js"),reactHotLoader.register(CHANNEL_FEED_EVENTS,"CHANNEL_FEED_EVENTS","/Users/skysbird/workspace/orbit-web/src/workers/network.js"),reactHotLoader.register(NetworkWorker,"NetworkWorker","/Users/skysbird/workspace/orbit-web/src/workers/network.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(52)(module))},2820:function(e,t,r){"use strict";(function(e){var t,o=r(2959),a=r(2821);(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);var n,i;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function s(e){var t=Date.now();return e+"-"+Object(a.a)(t)+"-"+Object(o.a)(t)}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(s,"createWeeklyChannelName","/Users/skysbird/workspace/orbit-web/src/utils/channels.js"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,r(52)(e))},2822:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return UiStore}));var mobx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(468),_utils_throttle__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2823),_themes__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1168),_dec,_dec2,_dec3,_dec4,_dec5,_dec6,_dec7,_class,_descriptor,_descriptor2,_descriptor3,_descriptor4,_descriptor5,_descriptor6,_temp,enterModule;function _initializerDefineProperty(e,t,r,o){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _applyDecoratedDescriptor(e,t,r,o,a){var n={};return Object.keys(o).forEach((function(e){n[e]=o[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce((function(r,o){return o(e,t,r)||r}),n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}function _initializerWarningHelper(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};Object(mobx__WEBPACK_IMPORTED_MODULE_0__.d)({enforceActions:"observed"}),Object(_utils_throttle__WEBPACK_IMPORTED_MODULE_1__.a)("resize","optimizedResize",window);var UiStore=(_dec=mobx__WEBPACK_IMPORTED_MODULE_0__.b.bound,_dec2=mobx__WEBPACK_IMPORTED_MODULE_0__.b.bound,_dec3=mobx__WEBPACK_IMPORTED_MODULE_0__.b.bound,_dec4=mobx__WEBPACK_IMPORTED_MODULE_0__.b.bound,_dec5=mobx__WEBPACK_IMPORTED_MODULE_0__.b.bound,_dec6=mobx__WEBPACK_IMPORTED_MODULE_0__.b.bound,_dec7=mobx__WEBPACK_IMPORTED_MODULE_0__.b.bound,_temp=function(){function UiStore(e){var t=this;_classCallCheck(this,UiStore),_initializerDefineProperty(this,"_windowDimensions",_descriptor,this),_initializerDefineProperty(this,"_currentChannelName",_descriptor2,this),_initializerDefineProperty(this,"_isControlPanelOpen",_descriptor3,this),_initializerDefineProperty(this,"_userProfilePanelPosition",_descriptor4,this),_initializerDefineProperty(this,"_userProfilePanelUser",_descriptor5,this),_initializerDefineProperty(this,"_title",_descriptor6,this),this.rootStore=e,this.sessionStore=this.rootStore.sessionStore,this.settingsStore=this.rootStore.settingsStore,this.networkStore=this.rootStore.networkStore,window.addEventListener("optimizedResize",this._onWindowResize),Object(mobx__WEBPACK_IMPORTED_MODULE_0__.h)((function(){return t._title}),(function(e){document.title=e})),Object(mobx__WEBPACK_IMPORTED_MODULE_0__.h)((function(){return t.networkStore.hasUnreadMessages}),(function(){var e=t._title.replace("* ","");t.setTitle(e)})),this._windowDimensions=this._getWindowDimensions()}return _createClass(UiStore,[{key:"_getWindowDimensions",value:function(){return{width:window.innerWidth,height:window.innerHeight}}},{key:"_onWindowResize",value:function(){this._windowDimensions=this._getWindowDimensions()}},{key:"setCurrentChannelName",value:function(e){this._currentChannelName=e}},{key:"openControlPanel",value:function(){this.sessionStore.isAuthenticated&&(this._isControlPanelOpen=!0)}},{key:"closeControlPanel",value:function(){this._isControlPanelOpen=!1}},{key:"setTitle",value:function(e){this._title=this.networkStore.hasUnreadMessages?"* ".concat(e):e}},{key:"openUserProfilePanel",value:function(e,t){this._userProfilePanelPosition=t,this._userProfilePanelUser=e}},{key:"closeUserProfilePanel",value:function(){this._userProfilePanelPosition=null,this._userProfilePanelUser=null}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}},{key:"currentChannelName",get:function(){return this._currentChannelName}},{key:"isControlPanelOpen",get:function(){return this._isControlPanelOpen}},{key:"userProfilePanelPosition",get:function(){return this._userProfilePanelPosition}},{key:"userProfilePanelUser",get:function(){return this._userProfilePanelUser}},{key:"userProfilePanelIsOpen",get:function(){return this._userProfilePanelPosition&&this._userProfilePanelUser}},{key:"title",get:function(){return this._title}},{key:"windowDimensions",get:function(){return this._windowDimensions}},{key:"themeName",get:function(){return this.settingsStore.uiSettings.themeName},set:function(e){this.settingsStore.uiSettings.themeName=e}},{key:"theme",get:function(){return _themes__WEBPACK_IMPORTED_MODULE_2__.a[this.themeName]}},{key:"language",get:function(){return this.settingsStore.uiSettings.language},set:function(e){this.settingsStore.uiSettings.language=e}},{key:"colorifyUsernames",get:function(){return this.settingsStore.uiSettings.colorifyUsernames},set:function(e){this.settingsStore.uiSettings.colorifyUsernames=e}},{key:"useEmojis",get:function(){return this.settingsStore.uiSettings.useEmojis},set:function(e){this.settingsStore.uiSettings.useEmojis=e}},{key:"emojiSet",get:function(){return this.settingsStore.uiSettings.emojiSet},set:function(e){this.settingsStore.uiSettings.emojiSet=e}},{key:"messageNotifications",get:function(){return this.settingsStore.uiSettings.messageNotifications},set:function(e){this.settingsStore.uiSettings.messageNotifications=e}},{key:"useLargeMessage",get:function(){return this.settingsStore.uiSettings.useLargeMessage},set:function(e){this.settingsStore.uiSettings.useLargeMessage=e}},{key:"useMonospaceFont",get:function(){return this.settingsStore.uiSettings.useMonospaceFont},set:function(e){this.settingsStore.uiSettings.useMonospaceFont=e}},{key:"sidePanelPosition",get:function(){return this.settingsStore.uiSettings.sidePanelPosition},set:function(e){this.settingsStore.uiSettings.sidePanelPosition=e}}]),UiStore}(),_class=_temp,_descriptor=_applyDecoratedDescriptor(_class.prototype,"_windowDimensions",[mobx__WEBPACK_IMPORTED_MODULE_0__.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{width:0,height:0}}}),_descriptor2=_applyDecoratedDescriptor(_class.prototype,"_currentChannelName",[mobx__WEBPACK_IMPORTED_MODULE_0__.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor3=_applyDecoratedDescriptor(_class.prototype,"_isControlPanelOpen",[mobx__WEBPACK_IMPORTED_MODULE_0__.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_descriptor4=_applyDecoratedDescriptor(_class.prototype,"_userProfilePanelPosition",[mobx__WEBPACK_IMPORTED_MODULE_0__.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor5=_applyDecoratedDescriptor(_class.prototype,"_userProfilePanelUser",[mobx__WEBPACK_IMPORTED_MODULE_0__.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor6=_applyDecoratedDescriptor(_class.prototype,"_title",[mobx__WEBPACK_IMPORTED_MODULE_0__.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Orbit"}}),_applyDecoratedDescriptor(_class.prototype,"currentChannelName",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"currentChannelName"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"isControlPanelOpen",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"isControlPanelOpen"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"userProfilePanelPosition",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"userProfilePanelPosition"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"userProfilePanelUser",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"userProfilePanelUser"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"userProfilePanelIsOpen",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"userProfilePanelIsOpen"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"title",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"title"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"windowDimensions",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"windowDimensions"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_onWindowResize",[_dec],Object.getOwnPropertyDescriptor(_class.prototype,"_onWindowResize"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"setCurrentChannelName",[_dec2],Object.getOwnPropertyDescriptor(_class.prototype,"setCurrentChannelName"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"openControlPanel",[_dec3],Object.getOwnPropertyDescriptor(_class.prototype,"openControlPanel"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"closeControlPanel",[_dec4],Object.getOwnPropertyDescriptor(_class.prototype,"closeControlPanel"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"setTitle",[_dec5],Object.getOwnPropertyDescriptor(_class.prototype,"setTitle"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"openUserProfilePanel",[_dec6],Object.getOwnPropertyDescriptor(_class.prototype,"openUserProfilePanel"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"closeUserProfilePanel",[_dec7],Object.getOwnPropertyDescriptor(_class.prototype,"closeUserProfilePanel"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"themeName",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"themeName"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"theme",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"theme"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"language",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"language"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"colorifyUsernames",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"colorifyUsernames"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"useEmojis",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"useEmojis"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"emojiSet",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"emojiSet"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"messageNotifications",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"messageNotifications"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"useLargeMessage",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"useLargeMessage"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"useMonospaceFont",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"useMonospaceFont"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"sidePanelPosition",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"sidePanelPosition"),_class.prototype),_class),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(UiStore,"UiStore","/Users/skysbird/workspace/orbit-web/src/stores/UiStore.js"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(52)(module))},2823:function(e,t,r){"use strict";(function(e){var o;r.d(t,"a",(function(){return i})),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var a,n;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function i(e,t,r){r=r||window;var o=s((function(){return r.dispatchEvent(new CustomEvent(t))}));r.addEventListener(e,o)}function s(e){var t=!1;return function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];t||(requestAnimationFrame((function(){e.apply(void 0,o),t=!1})),t=!0)}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(a.register(i,"throttleEvent","/Users/skysbird/workspace/orbit-web/src/utils/throttle.js"),a.register(s,"throttleFunc","/Users/skysbird/workspace/orbit-web/src/utils/throttle.js")),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)}).call(this,r(52)(e))},2824:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return SessionStore}));var mobx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(468),_utils_logger__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(469),_utils_cookies__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2825),_dec,_class,_descriptor,_temp,enterModule;function asyncGeneratorStep(e,t,r,o,a,n,i){try{var s=e[n](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,a)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var n=e.apply(t,r);function i(e){asyncGeneratorStep(n,o,a,i,s,"next",e)}function s(e){asyncGeneratorStep(n,o,a,i,s,"throw",e)}i(void 0)}))}}function _initializerDefineProperty(e,t,r,o){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _applyDecoratedDescriptor(e,t,r,o,a){var n={};return Object.keys(o).forEach((function(e){n[e]=o[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce((function(r,o){return o(e,t,r)||r}),n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}function _initializerWarningHelper(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};Object(mobx__WEBPACK_IMPORTED_MODULE_0__.d)({enforceActions:"observed"});var logger=new _utils_logger__WEBPACK_IMPORTED_MODULE_1__.a,cookieKey="orbit-chat-username",SessionStore=(_dec=mobx__WEBPACK_IMPORTED_MODULE_0__.b.bound,_temp=function(){function SessionStore(e){_classCallCheck(this,SessionStore),_initializerDefineProperty(this,"_user",_descriptor,this),this.rootStore=e,this.login=this.login.bind(this),this.logout=this.logout.bind(this)}var _setUser2;return _createClass(SessionStore,[{key:"_setUser",value:(_setUser2=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||t.username){e.next=2;break}throw new Error('"user.username" is not defined');case 2:Object(mobx__WEBPACK_IMPORTED_MODULE_0__.i)((function(){r._user=t})),this._cacheUser(t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return _setUser2.apply(this,arguments)})},{key:"_readUserFromCache",value:function(){var e=_utils_cookies__WEBPACK_IMPORTED_MODULE_2__.b(cookieKey);return e?{username:e}:null}},{key:"_cacheUser",value:function(e){e?_utils_cookies__WEBPACK_IMPORTED_MODULE_2__.c(cookieKey,e.username,1):_utils_cookies__WEBPACK_IMPORTED_MODULE_2__.a(cookieKey)}},{key:"loadFromCache",value:function(){var e=this._readUserFromCache();e&&this.login(e)}},{key:"login",value:function(e){return logger.info("User login"),this._setUser(e)}},{key:"logout",value:function(){return logger.info("User logout"),this._setUser(null)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}},{key:"username",get:function(){return this._user&&this._user.username?this._user.username:null}},{key:"isAuthenticated",get:function(){return!(!this._user||!this._user.username)}}]),SessionStore}(),_class=_temp,_descriptor=_applyDecoratedDescriptor(_class.prototype,"_user",[mobx__WEBPACK_IMPORTED_MODULE_0__.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_applyDecoratedDescriptor(_class.prototype,"username",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"username"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"isAuthenticated",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"isAuthenticated"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"_setUser",[_dec],Object.getOwnPropertyDescriptor(_class.prototype,"_setUser"),_class.prototype),_class),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(logger,"logger","/Users/skysbird/workspace/orbit-web/src/stores/SessionStore.js"),reactHotLoader.register(cookieKey,"cookieKey","/Users/skysbird/workspace/orbit-web/src/stores/SessionStore.js"),reactHotLoader.register(SessionStore,"SessionStore","/Users/skysbird/workspace/orbit-web/src/stores/SessionStore.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(52)(module))},2825:function(e,t,r){"use strict";(function(e){var o;r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return c})),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var a,n;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function i(e,t,r){var o=new Date;o.setTime(o.getTime()+24*r*60*60*1e3);var a="expires="+o.toUTCString();document.cookie=e+"="+t+";"+a+";path=/"}function s(e){for(var t=e+"=",r=decodeURIComponent(document.cookie).split(";"),o=0;o<r.length;o++){for(var a=r[o];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return""}function c(e){i(e,"",-1)}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(a.register(i,"setCookie","/Users/skysbird/workspace/orbit-web/src/utils/cookies.js"),a.register(s,"getCookie","/Users/skysbird/workspace/orbit-web/src/utils/cookies.js"),a.register(c,"expireCookie","/Users/skysbird/workspace/orbit-web/src/utils/cookies.js")),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)}).call(this,r(52)(e))},2826:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return SettingsStore}));var mobx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(468),_config_network_default_json__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2827),_config_network_default_json__WEBPACK_IMPORTED_MODULE_1___namespace=__webpack_require__.t(2827,1),_config_ui_default_json__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2828),_config_ui_default_json__WEBPACK_IMPORTED_MODULE_2___namespace=__webpack_require__.t(2828,1),_package_json__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(98),_package_json__WEBPACK_IMPORTED_MODULE_3___namespace=__webpack_require__.t(98,1),_dec,_class,_descriptor,_descriptor2,_temp,enterModule;function _initializerDefineProperty(e,t,r,o){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _applyDecoratedDescriptor(e,t,r,o,a){var n={};return Object.keys(o).forEach((function(e){n[e]=o[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce((function(r,o){return o(e,t,r)||r}),n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}function _initializerWarningHelper(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};Object(mobx__WEBPACK_IMPORTED_MODULE_0__.d)({enforceActions:"observed"});var SettingsStore=(_dec=mobx__WEBPACK_IMPORTED_MODULE_0__.b.bound,_temp=function(){function SettingsStore(e){var t=this;_classCallCheck(this,SettingsStore),_initializerDefineProperty(this,"networkSettings",_descriptor,this),_initializerDefineProperty(this,"uiSettings",_descriptor2,this),this.rootStore=e,this.sessionStore=e.sessionStore,this._saveNetworkSettings=this._saveNetworkSettings.bind(this),this._saveUiSettings=this._saveUiSettings.bind(this),this._updateLanguage=this._updateLanguage.bind(this),Object(mobx__WEBPACK_IMPORTED_MODULE_0__.h)((function(){return t.sessionStore.username}),this.load),Object(mobx__WEBPACK_IMPORTED_MODULE_0__.h)((function(){return t.uiSettings.language}),this._updateLanguage),Object(mobx__WEBPACK_IMPORTED_MODULE_0__.h)((function(){return Object(mobx__WEBPACK_IMPORTED_MODULE_0__.m)(t.networkSettings)}),this._saveNetworkSettings),Object(mobx__WEBPACK_IMPORTED_MODULE_0__.h)((function(){return Object(mobx__WEBPACK_IMPORTED_MODULE_0__.m)(t.uiSettings)}),this._saveUiSettings)}return _createClass(SettingsStore,[{key:"_saveNetworkSettings",value:function(){try{var e=this._settingsKeys.networkKey;localStorage.setItem(e,JSON.stringify(this.networkSettings))}catch(e){}}},{key:"_saveUiSettings",value:function(){try{var e=this._settingsKeys.uiKey;localStorage.setItem(e,JSON.stringify(this.uiSettings))}catch(e){}}},{key:"_updateLanguage",value:function(e){this.rootStore.i18n.changeLanguage(e)}},{key:"load",value:function(){var e={},t={},r=JSON.parse(JSON.stringify(_config_network_default_json__WEBPACK_IMPORTED_MODULE_1__)),o=JSON.parse(JSON.stringify(_config_ui_default_json__WEBPACK_IMPORTED_MODULE_2__));try{var a=this._settingsKeys,n=a.networkKey,i=a.uiKey;e=JSON.parse(localStorage.getItem(n))||{},t=JSON.parse(localStorage.getItem(i))||{}}catch(e){}Object.assign(this.networkSettings,r,e),Object.assign(this.uiSettings,o,t),this.rootStore.isNewAppVersion=this.uiSettings.appVersion!==_package_json__WEBPACK_IMPORTED_MODULE_3__.a,this.uiSettings.appVersion=_package_json__WEBPACK_IMPORTED_MODULE_3__.a}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}},{key:"_settingsKeys",get:function(){var e=this.sessionStore.username;if(!e)throw new Error("No logged in user");return{networkKey:"orbit-chat.".concat(e,".network-settings-v1"),uiKey:"orbit-chat.".concat(e,".ui-settings-v1")}}}]),SettingsStore}(),_class=_temp,_descriptor=_applyDecoratedDescriptor(_class.prototype,"networkSettings",[mobx__WEBPACK_IMPORTED_MODULE_0__.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),_descriptor2=_applyDecoratedDescriptor(_class.prototype,"uiSettings",[mobx__WEBPACK_IMPORTED_MODULE_0__.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),_applyDecoratedDescriptor(_class.prototype,"_settingsKeys",[mobx__WEBPACK_IMPORTED_MODULE_0__.c],Object.getOwnPropertyDescriptor(_class.prototype,"_settingsKeys"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"load",[_dec],Object.getOwnPropertyDescriptor(_class.prototype,"load"),_class.prototype),_class),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(SettingsStore,"SettingsStore","/Users/skysbird/workspace/orbit-web/src/stores/SettingsStore.js"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(52)(module))},2827:function(e){e.exports=JSON.parse('{"ipfs":{"preload":{"enabled":false},"config":{"Addresses":{"Swarm":["/dns4/star.ipfs-dev.com/tcp/8243/wss/p2p-webrtc-star"]},"Bootstrap":["/dns4/star.ipfs-dev.com/tcp/8243/wss/p2p/Qmdo6uKt4u23wegnU8yhR1PKXP3RAqwiTvqymJY1PmccsQ"]}},"channels":[]}')},2828:function(e){e.exports=JSON.parse('{"themeName":"default","language":"en","sidePanelPosition":"left","colorifyUsernames":true,"useEmojis":true,"emojiSet":"emojione","useMonospaceFont":false,"useLargeMessage":false,"messageNotifications":"mentions","appVersion":""}')},2829:function(e,t,r){"use strict";(function(e){var o;r.d(t,"a",(function(){return s})),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var a,n;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function i(e,t){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"ping";try{var i=e.channels[t];if(!i)throw new Error("Channel not found");var s=0;r=setInterval((function(){i.sendMessage("".concat(n," (").concat(s,")")),++s===o&&clearInterval(r)}),a)}catch(e){r&&clearInterval(r),console.error(e)}}function s(e){e.rootStore.networkStore}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(a.register(i,"debugSend","/Users/skysbird/workspace/orbit-web/src/utils/debug.js"),a.register(s,"addDebug","/Users/skysbird/workspace/orbit-web/src/utils/debug.js")),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)}).call(this,r(52)(e))},2830:function(e,t,r){"use strict";(function(e){var o;r.d(t,"a",(function(){return i})),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var a,n;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Object.assign({marginTop:1,marginBottom:1},r),a=o.marginTop,n=o.marginBottom,i=!0;return i=(i=i&&t.top>=e.top-a)&&t.bottom<=e.bottom+n}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(i,"isRectInside","/Users/skysbird/workspace/orbit-web/src/utils/rect.js"),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)}).call(this,r(52)(e))},2836:function(e,t,r){var o=r(46),a=r(2837);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var n={insert:"head",singleton:!1};o(a,n);e.exports=a.locals||{}},2837:function(e,t,r){(t=r(47)(!1)).push([e.i,"@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeIn06{0%{opacity:0}100%{opacity:0.6}}@keyframes fadeIn06{0%{opacity:0}100%{opacity:0.6}}@-webkit-keyframes fadeInFromBottom{0%{opacity:0;transform:translateY(-5px)}100%{opacity:1;transform:translateY(0)}}@keyframes fadeInFromBottom{0%{opacity:0;transform:translateY(-5px)}100%{opacity:1;transform:translateY(0)}}@-webkit-keyframes fadeInCircles{0%{opacity:0.2;transform:translate(-20px, 0)}10%{opacity:1}90%{opacity:1}100%{opacity:0.2;transform:translate(20px, 0)}}@keyframes fadeInCircles{0%{opacity:0.2;transform:translate(-20px, 0)}10%{opacity:1}90%{opacity:1}100%{opacity:0.2;transform:translate(20px, 0)}}@-webkit-keyframes fadeInCirclesLoop{0%{opacity:0.2}40%{opacity:0.4}50%{opacity:1}80%{opacity:0.4}100%{opacity:0.2}}@keyframes fadeInCirclesLoop{0%{opacity:0.2}40%{opacity:0.4}50%{opacity:1}80%{opacity:0.4}100%{opacity:0.2}}@-webkit-keyframes pulse1{0%{opacity:0.3}50%{opacity:0.5}100%{opacity:0.3}}@keyframes pulse1{0%{opacity:0.3}50%{opacity:0.5}100%{opacity:0.3}}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes fadeOutWithHeight{0%{opacity:1}80%{height:100%}100%{opacity:0;height:0%}}@keyframes fadeOutWithHeight{0%{opacity:1}80%{height:100%}100%{opacity:0;height:0%}}@-webkit-keyframes fadeOutUp{0%{opacity:1}100%{opacity:0;height:0}}@keyframes fadeOutUp{0%{opacity:1}100%{opacity:0;height:0}}@-webkit-keyframes fadeOutDown{0%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(20px)}}@keyframes fadeOutDown{0%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(20px)}}@-webkit-keyframes fadeInDown{0%{opacity:0;transform:translateY(-20px)}100%{opacity:1;transform:translateY(0)}}@keyframes fadeInDown{0%{opacity:0;transform:translateY(-20px)}100%{opacity:1;transform:translateY(0)}}@-webkit-keyframes fadeInUp{0%{opacity:0;transform:translateY(20px)}100%{opacity:1;transform:translateY(0)}}@keyframes fadeInUp{0%{opacity:0;transform:translateY(20px)}100%{opacity:1;transform:translateY(0)}}@-webkit-keyframes fadeInUp2{0%{opacity:0;transform:translateY(20px)}50%{opacity:0.3}100%{opacity:1;transform:translateY(0)}}@keyframes fadeInUp2{0%{opacity:0;transform:translateY(20px)}50%{opacity:0.3}100%{opacity:1;transform:translateY(0)}}@-webkit-keyframes bounceInLeft{0%{opacity:0;transform:translateX(-200px)}60%{transform:translateX(2px)}80%{transform:translateX(-2px)}100%{opacity:1;transform:translateX(0)}}@keyframes bounceInLeft{0%{opacity:0;transform:translateX(-200px)}60%{transform:translateX(2px)}80%{transform:translateX(-2px)}100%{opacity:1;transform:translateX(0)}}@-webkit-keyframes bounceInRight{0%{opacity:0;transform:translateX(200px)}60%{transform:translateX(2px)}80%{transform:translateX(-2px)}100%{opacity:1;transform:translateX(0)}}@keyframes bounceInRight{0%{opacity:0;transform:translateX(200px)}60%{transform:translateX(2px)}80%{transform:translateX(-2px)}100%{opacity:1;transform:translateX(0)}}@-webkit-keyframes bounceInDown{0%{opacity:0;transform:translateY(-200px)}60%{transform:translateY(2px)}80%{transform:translateY(-2px)}100%{opacity:1;transform:translateY(0)}}@keyframes bounceInDown{0%{opacity:0;transform:translateY(-200px)}60%{transform:translateY(2px)}80%{transform:translateY(-2px)}100%{opacity:1;transform:translateY(0)}}@-webkit-keyframes slideFromRight{0%{opacity:0;transform:translateX(200px)}100%{opacity:1;transform:translateX(0)}}@keyframes slideFromRight{0%{opacity:0;transform:translateX(200px)}100%{opacity:1;transform:translateX(0)}}@-webkit-keyframes slideFromLeft{0%{opacity:0;transform:translateX(-200px)}100%{opacity:1;transform:translateX(0)}}@keyframes slideFromLeft{0%{opacity:0;transform:translateX(-200px)}100%{opacity:1;transform:translateX(0)}}@-webkit-keyframes appearFromTop{0%{opacity:0;transform:translateY(-10px)}100%{opacity:1;transform:translateY(0)}}@keyframes appearFromTop{0%{opacity:0;transform:translateY(-10px)}100%{opacity:1;transform:translateY(0)}}@-webkit-keyframes fadeOutRight{0%{opacity:1}100%{opacity:0}}@keyframes fadeOutRight{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes indeterminate{0%{left:-35%;right:100%}60%{left:100%;right:-90%}100%{left:100%;right:-90%}}@keyframes indeterminate{0%{left:-35%;right:100%}60%{left:100%;right:-90%}100%{left:100%;right:-90%}}@-webkit-keyframes indeterminate-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}100%{left:107%;right:-8%}}@keyframes indeterminate-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}100%{left:107%;right:-8%}}.fadeInAnimation{-webkit-animation-name:fadeIn;animation-name:fadeIn;-webkit-animation-duration:0.3s;animation-duration:0.3s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}.slideInAnimation.left{-webkit-animation:slideFromLeft;animation:slideFromLeft;-webkit-animation-duration:0.3s;animation-duration:0.3s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}.slideInAnimation.right{-webkit-animation:slideFromRight;animation:slideFromRight;-webkit-animation-duration:0.3s;animation-duration:0.3s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}.bounceInAnimation.left{-webkit-animation:bounceInLeft;animation:bounceInLeft;-webkit-animation-duration:0.6s;animation-duration:0.6s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}.bounceInAnimation.right{-webkit-animation:bounceInRight;animation:bounceInRight;-webkit-animation-duration:0.6s;animation-duration:0.6s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}textarea,input{outline:none}::-webkit-input-placeholder{color:rgba(228,228,228,0.15);font-style:italic}::-moz-placeholder{color:rgba(228,228,228,0.15);font-style:italic}:-ms-input-placeholder{color:rgba(228,228,228,0.15);font-style:italic}::-ms-input-placeholder{color:rgba(228,228,228,0.15);font-style:italic}::placeholder{color:rgba(228,228,228,0.15);font-style:italic}.App{overflow:hidden;display:flex;flex-direction:column;transform-style:preserve-3d;width:100%;height:100%;position:absolute}.view{background-color:#222222;padding:0;margin:0}.icon{width:1em;height:1em;font-size:1.2em;display:flex;align-items:center;justify-content:center;padding:0.35em;margin-left:0.2em;margin-right:0.2em;color:#e4e4e4}.icon-active{width:1em;height:1em;font-size:1.2em;display:flex;align-items:center;justify-content:center;padding:0.5em;margin-left:0.2em;margin-right:0.2em;color:#e4e4e4;background-color:#783c8c;border-radius:32px}.icon-active:hover{background-color:#783c8c;border-radius:32px}.icon:hover{background-color:#303030;border-radius:32px}.icon:active{background-color:#783c8c;border-radius:32px}.blurred{-webkit-filter:blur(2px);filter:blur(2px)}.dimmed{opacity:0.5}.hide{display:none}.none{display:none}\n",""]),e.exports=t},2838:function(e,t,r){var o=r(46),a=r(2839);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var n={insert:"head",singleton:!1};o(a,n);e.exports=a.locals||{}},2839:function(e,t,r){(t=r(47)(!1)).push([e.i,"::-webkit-scrollbar{width:6px;height:6px}::-webkit-scrollbar-track{box-shadow:none;border-radius:0;border-radius:0;background:#181818}::-webkit-scrollbar-thumb{border-radius:0px;border-radius:0px;background:rgba(64,64,64,0.8);box-shadow:none}::-webkit-scrollbar-thumb:window-inactive{background:rgba(128,128,128,0.4)}\n",""]),e.exports=t},354:function(e,t,r){"use strict";r.r(t),function(e){var o,a=r(10),n=r.n(a),i=r(401),s=r(437),c=r(2840),l=r(1194),_=r(1218),u=r(2829),p=r(811),d=r(799),f=r(421),b=r(96);r(2836),r(2838);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},h=new _.a(l.a);h.settingsStore.load(),h.sessionStore.loadFromCache(),Object(u.a)({rootStore:h}),Object(p.a)();var g=n.a.lazy((function(){return r.e(9).then(r.bind(null,2841))})),m=n.a.lazy((function(){return r.e(6).then(r.bind(null,2850))})),E=n.a.lazy((function(){return r.e(8).then(r.bind(null,2853))})),w=n.a.lazy((function(){return r.e(11).then(r.bind(null,2856))})),k=n.a.lazy((function(){return r.e(13).then(r.bind(null,2857))})),P=n.a.lazy((function(){return r.e(14).then(r.bind(null,2860))})),D=n.a.lazy((function(){return r.e(16).then(r.bind(null,2861))})),v=n.a.lazy((function(){return r.e(1).then(r.bind(null,2865))}));function O(e){var t=e.isAuthenticated,r=Object(i.g)(),o=Object(d.a)(["/","/settings","/channel/:channel"],t);return n.a.createElement("div",{className:"App view"},n.a.createElement(n.a.Suspense,{fallback:n.a.createElement(b.a,null)},n.a.createElement(g,null),n.a.createElement(i.b,{path:["/channel/:channel","/settings"]},n.a.createElement(m,null)),n.a.createElement(i.d,null,n.a.createElement(i.b,{exact:!0,path:"/channel/:channel"},n.a.createElement(E,null)),n.a.createElement(i.b,{exact:!0,path:"/settings"},n.a.createElement(D,null)),n.a.createElement(i.b,{exact:!0,path:"/logout"},n.a.createElement(P,null)),n.a.createElement(i.b,{exact:!0,path:"/connect"},n.a.createElement(k,null)),n.a.createElement(i.b,null,n.a.createElement(w,null))),n.a.createElement(i.b,{path:"/connect"}),o?n.a.createElement(i.a,{to:{pathname:"/connect",state:{from:r}}}):null))}function M(){return n.a.createElement(f.a.Provider,{value:h},n.a.createElement(s.a,null,Object(c.a)((function(){return n.a.createElement(O,{isAuthenticated:h.sessionStore.isAuthenticated})}))))}y(O,"useLocation{location}\nusePrivateRoutes{redirectToLogin}",(function(){return[i.g,d.a]})),y(M,"useObserver{}",(function(){return[c.a]}));var L,C,S=M;t.default=S,(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(L.register(h,"rootStore","/Users/skysbird/workspace/orbit-web/src/views/App.js"),L.register("/connect","loginPath","/Users/skysbird/workspace/orbit-web/src/views/App.js"),L.register(g,"ControlPanel","/Users/skysbird/workspace/orbit-web/src/views/App.js"),L.register(m,"ChannelHeader","/Users/skysbird/workspace/orbit-web/src/views/App.js"),L.register(E,"ChannelView","/Users/skysbird/workspace/orbit-web/src/views/App.js"),L.register(w,"IndexView","/Users/skysbird/workspace/orbit-web/src/views/App.js"),L.register(k,"LoginView","/Users/skysbird/workspace/orbit-web/src/views/App.js"),L.register(P,"LogoutView","/Users/skysbird/workspace/orbit-web/src/views/App.js"),L.register(D,"SettingsView","/Users/skysbird/workspace/orbit-web/src/views/App.js"),L.register(v,"AlphaDisclaimer","/Users/skysbird/workspace/orbit-web/src/views/App.js"),L.register(O,"AppView","/Users/skysbird/workspace/orbit-web/src/views/App.js"),L.register(M,"App","/Users/skysbird/workspace/orbit-web/src/views/App.js"),L.register(S,"default","/Users/skysbird/workspace/orbit-web/src/views/App.js")),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&C(e)}.call(this,r(52)(e))},421:function(e,t,r){"use strict";(function(e){var o,a=r(10),n=r.n(a);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i,s,c=n.a.createContext();t.a=c,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(c,"default","/Users/skysbird/workspace/orbit-web/src/context/RootContext.js"),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)}).call(this,r(52)(e))},469:function(e,t,r){"use strict";(function(e){var r;(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function o(){}var a=window.DEV||!1;o.prototype.debug=a?console.log:function(){},o.prototype.log=a?console.log:function(){},o.prototype.info=a?console.info:function(){},o.prototype.warn=console.warn,o.prototype.error=console.error;var n,i,s=o;t.a=s,(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(o,"Logger","/Users/skysbird/workspace/orbit-web/src/utils/logger.js"),n.register(a,"enableDebug","/Users/skysbird/workspace/orbit-web/src/utils/logger.js"),n.register(s,"default","/Users/skysbird/workspace/orbit-web/src/utils/logger.js")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,r(52)(e))},553:function(e,t,r){"use strict";(function(e){r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return _})),r.d(t,"d",(function(){return u})),r.d(t,"f",(function(){return p})),r.d(t,"e",(function(){return d})),r.d(t,"g",(function(){return f})),r.d(t,"a",(function(){return y}));var o,a=r(1167),n=r.n(a);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function i(e){if(e<0)return 0;var t=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,t)).toFixed(t>2?2:0)+" "+["B","kB","MB","GB","TB"][t]}var s,c,l=/(?:\.([^.]+))?$/;function _(e){return l.exec(e)[1]}function u(e){var t=_(e);return"mp3"===t||"ogg"===t||"wav"===t}function p(e){var t=_(e);return"txt"===t||n.a.getLanguage(t)}function d(e){var t=_(e);return["jpg","jpeg","png","gif","bmp","svg"].includes(t.toLowerCase())}function f(e){var t=_(e);return"mp4"===t||"webm"===t||"ogv"===t||"avi"===t||"mkv"===t}function b(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),o=0;o<e.length;++o)r[o]=e[o];return t}function y(e,t){var r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(s.register(i,"getHumanReadableSize","/Users/skysbird/workspace/orbit-web/src/utils/file-helpers.js"),s.register(l,"fileExtensionPattern","/Users/skysbird/workspace/orbit-web/src/utils/file-helpers.js"),s.register(_,"getFileExtension","/Users/skysbird/workspace/orbit-web/src/utils/file-helpers.js"),s.register(u,"isAudio","/Users/skysbird/workspace/orbit-web/src/utils/file-helpers.js"),s.register(p,"isText","/Users/skysbird/workspace/orbit-web/src/utils/file-helpers.js"),s.register(d,"isImage","/Users/skysbird/workspace/orbit-web/src/utils/file-helpers.js"),s.register(f,"isVideo","/Users/skysbird/workspace/orbit-web/src/utils/file-helpers.js"),s.register(b,"toArrayBuffer","/Users/skysbird/workspace/orbit-web/src/utils/file-helpers.js"),s.register(y,"concatUint8Arrays","/Users/skysbird/workspace/orbit-web/src/utils/file-helpers.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)}).call(this,r(52)(e))},630:function(e,t,r){"use strict";(function(e){var o,a=r(1210),n=r(1212),i=r(1214),s=r(1216);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var c,l,_={en:a.a,fi:n.a,pt:i.a,zh:s.a};t.a=_,(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&c.register(_,"default","/Users/skysbird/workspace/orbit-web/src/locales/index.js"),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)}).call(this,r(52)(e))},635:function(e,t){},648:function(e,t){},690:function(e,t){},702:function(e,t){},714:function(e,t){},730:function(e,t){},753:function(e,t){},768:function(e,t){},788:function(e,t){},799:function(e,t,r){"use strict";(function(e){r.d(t,"c",(function(){return b})),r.d(t,"b",(function(){return y})),r.d(t,"d",(function(){return h})),r.d(t,"a",(function(){return g}));var o,a=r(10),n=r.n(a),i=r(401),s=r(498),c=r.n(s),l=r(2830);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],o=!0,a=!1,n=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(e){a=!0,n=e}finally{try{o||null==s.return||s.return()}finally{if(a)throw n}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var p,d,f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function b(e,t){var r=n.a.useRef();n.a.useEffect((function(){r.current=e}),[e]),n.a.useEffect((function(){if(null!==t){var e=setTimeout((function(){r.current()}),t);return function(){return clearTimeout(e)}}}),[t])}function y(){var e=n.a.useRef(null),t=_(n.a.useState(),2),r=t[0],o=t[1];return[r,n.a.useCallback((function(t){e.current&&o(void 0),t&&o(t),e.current=t}),[])]}function h(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,a=n.a.useState(!1),i=_(a,2),s=i[0],u=i[1];function p(){if(e&&t){var o=t.getBoundingClientRect(),a=e.getBoundingClientRect(),n=Object(l.a)(o,a,r);u(n)}}var d=n.a.useCallback(c()(p,o),[e,t,r,o]);return n.a.useLayoutEffect((function(){if(t)return t.addEventListener("scroll",d),function(){d.cancel(),t.removeEventListener("scroll",d)}}),[t,d]),n.a.useLayoutEffect(p,[e,t,r]),s}function g(e,t){var r=_(n.a.useState(!1),2),o=r[0],a=r[1],s=e.map(f((function(e){return Object(i.i)({path:e})}),"useRouteMatch{}",(function(){return[i.i]}))).filter((function(e){return e&&e.isExact})).length>0;return n.a.useEffect((function(){o||t||!s?o&&a(!1):a(!0)}),[s,e,t]),o}f(b,"useRef{savedCallback}\nuseEffect{}\nuseEffect{}"),f(y,"useRef{ref}\nuseState{[element, setElement]}\nuseCallback{setRef}"),f(h,"useState{[isVisible, setIsVisible](false)}\nuseCallback{checkVisibilityDebounced}\nuseLayoutEffect{}\nuseLayoutEffect{}"),f(g,"useState{[shouldRedirect, setShouldRedirect](false)}\nuseEffect{}"),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(b,"useTimeout","/Users/skysbird/workspace/orbit-web/src/utils/hooks.js"),p.register(y,"useRefCallback","/Users/skysbird/workspace/orbit-web/src/utils/hooks.js"),p.register(h,"useVisibility","/Users/skysbird/workspace/orbit-web/src/utils/hooks.js"),p.register(g,"usePrivateRoutes","/Users/skysbird/workspace/orbit-web/src/utils/hooks.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r(52)(e))},811:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return c}));var o,a=r(498),n=r.n(a),i=r(1221),s=r.n(i);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function c(){"Notification"in window&&Notification.requestPermission()}var l,_,u=function(e,t,r){var o={body:t,tag:r,icon:s.a};"Notification"in window&&"granted"===Notification.permission&&new Notification(e,o)},p=n()(u,2e3);t.b=p,(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(c,"askPermission","/Users/skysbird/workspace/orbit-web/src/utils/notify.js"),l.register(u,"notify","/Users/skysbird/workspace/orbit-web/src/utils/notify.js"),l.register(p,"default","/Users/skysbird/workspace/orbit-web/src/utils/notify.js")),(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&_(e)}).call(this,r(52)(e))},812:function(e,t,r){"use strict";(function(e){var o;r.d(t,"a",(function(){return i})),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var a,n;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function i(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)}))}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(i,"UUID","/Users/skysbird/workspace/orbit-web/src/utils/uuid.js"),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)}).call(this,r(52)(e))}}]);